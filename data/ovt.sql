CREATE DATABASE IF NOT EXISTS ovt;
use ovt;
CREATE TABLE IF NOT EXISTS login(
uname VARCHAR(50) NOT NULL
,upassword VARCHAR(50) NOT NULL
);
CREATE TABLE IF NOT EXISTS voter(
vid INTEGER NOT NULL PRIMARY KEY
,name VARCHAR(50) NOT NULL
,mobile_no INTEGER NOT NULL
,address VARCHAR(50) NOT NULL
,age INTEGER NOT NULL
,zone VARCHAR(50) NOT NULL
,gender VARCHAR(50) NOT NULL
,doc1 BOOLEAN NOT NULL
,doc2 BOOLEAN NOT NULL
,doc3 BOOLEAN NOT NULL
,uid VARCHAR(50) NOT NULL
);
CREATE TABLE IF NOT EXISTS candidate(
cid INTEGER NOT NULL PRIMARY KEY 
,name VARCHAR(50) NOT NULL
,mobile_no INTEGER NOT NULL
,address VARCHAR(50) NOT NULL
,age INTEGER NOT NULL
,income INTEGER NOT NULL
,prev_acc VARCHAR(50) NOT NULL
,qualification VARCHAR(50) NOT NULL
,zone VARCHAR(50) NOT NULL
,gender VARCHAR(50) NOT NULL
,doc1 BOOLEAN NOT NULL
,doc2 BOOLEAN NOT NULL
,doc3 BOOLEAN NOT NULL
,uid VARCHAR(50) NOT NULL 
,party_name VARCHAR(50)
,vid INTEGER NOT NULL REFERENCES voter(vid)
);
CREATE TABLE IF NOT EXISTS party(
pid INTEGER NOT NULL PRIMARY KEY
,party_name VARCHAR(50) NOT NULL
,party_abbrev VARCHAR(50) NOT NULL
,party_head VARCHAR(50) NOT NULL
);
CREATE TABLE IF NOT EXISTS ec(
eid INTEGER NOT NULL PRIMARY KEY 
,name VARCHAR(50) NOT NULL
,post VARCHAR(50) NOT NULL
,uname VARCHAR(50) NOT NULL
);
CREATE TABLE IF NOT EXISTS poll(
cid INTEGER NOT NULL REFERENCES candidate(cid)
,vid INTEGER NOT NULL primary key
);
ALTER TABLE voter
MODIFY vid int NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=100000;
ALTER TABLE candidate
MODIFY cid int NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=10000;
ALTER TABLE party
MODIFY pid int NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=1000;
ALTER TABLE ec
MODIFY eid int NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=100;
-- INSERT INTO ec(name,post,uname) VALUES ('administrator','ec officer','admin');
-- INSERT INTO login(uname,upassword) values ('admin','admin123');